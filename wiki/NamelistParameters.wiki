#summary parameters that control how OPAWS produces an objective analysis

The UNIX command-line syntax for running the _x.oban_ objective-analysis program is

*x.oban oban.nml*

Note that _oban.nml_ is the example file name that will be used here.  Users are free to choose other file names.

The _oban.nml_ file must include three sections:  _&parameters_ (general information about the desired objective analysis), _&fields_ (information specific to individual data fields), and a list of sweep-file names.  These sections of the _oban.nml_ file are described in more detail below.

= &parameters =

= &fields =

= sweep-file list =

= Example 1 =

This example file does a Cressman 3D analysis of dorade sweep files.  Sweep-file names are specified explicitly.

{{{
&parameters
   nx = 101,                          ! no. of grid points in x direction
   ny = 101,                          ! no. of grid points in y direction
   nz = 21,                           ! no. of grid points in z direction
                                      !
   xmin = -50.0,                      ! coordinates of lower southwest corner (in km)
   ymin = -30.0,                      !     of analysis grid relative to the 
   zmin = 0.0,                        !     origin given by glat, glon, galt
                                      !
   dx = 1.0,                          ! grid spacing in x direction (km)
   dy = 1.0,                          ! grid spacing in y direction (km)
   dz = 0.5,                          ! grid spacing in z direction (km)
                                      !
   glon = -97.4619,                   ! longitude of grid origin (deg)
   glat = 35.2360,                    ! latitude  of grid origin (deg)
   galt = 0.380,                      ! altitude of grid origin (km MSL)

   rlon = -97.4619,                   ! radar longitude (deg)
   rlat = 35.2360,                    ! radar latitude (deg)
   ralt = 0.380,                      ! radar altitude (km MSL)
                                      !
   cyr = 2003,                        ! reference date used for (optional) time-to-space conversion: year
   cmo = 05,                          ! "                                                         ": month
   cda = 08,                          ! "                                                         ": day
   chr = 22,                          ! reference time used for (optional) time-to-space conversion: hour
   cmn = 05,                          ! "                                                         ": minute
   cse = 00,                          ! "                                                         ": second
                                      ! 
   ut = 14.0,                         ! x-translation velocity (m/s) used for time-to-space conversion
   vt = 8.0,                          ! y-translation velocity (m/s) used for time-to-space conversion
                                      ! 
   sec_cor = -150,                    ! offset in seconds to correct each ray
                                      !
   output_prefix = 'KOUN2205',        ! prefix name for output files
                                      !
   analysis_type   = 1,               ! Type of analysis
                                      !   1 == 3D Cartesian
                                      !   2 == 2D sweep-by-sweep
   method = 1,                        ! Interpolation method:
                                      !   1 == Cressman
                                      !   2 == Barnes
   hsp0 = 1.00,                       ! either Cressman horiz. radius of influence (km) or Barnes smoothing parameter (kappa, in km**2)
   vsp0 = 1.00,                       ! either Cressman vert. radius of influence (km) or Barnes smoothing parameter (kappa, in km**2)
                                      !
   minsum   = 0.1,                    ! threshold for minimum sum of weights required to produce
                                      !   an objectively-analyzed observation
                                      !
   nfld = 2,                          ! number of data fields to be gridded
                                      !
   ncgen_command = 'ncgen',           ! path/executable for local "ncgen" command
                                      !
   radar_data_format = 1,             ! radar data format: 1=dorade sweep files, 2=netcdf (FORAY)
                                      !
   nswp = 14                          ! controls file I/O:  nswp = -1 ==> read all files in directory at bottom of input file
                                      !                     nswp >  0 ==> read nswp # of filenames at bottom of input file
/
&fields
   fieldnames  = 'DZ', 'VU',          ! Names of the fields to be read from the dorade/netcdf radar-data files
   fill_flag   =    0,    0,          ! fill missing field values with a specified value? (0=no, 1=yes)
   fill_value  =  0.0,  0.0,          ! replacement value, if fill_flag==1
   error       =  5.0,  2.0,          ! Observational error standard deviation for the DART observations
/
======= DO NOT EDIT THIS LINE -> MUST START WITH 6 "=" for the oban formatted I/O to find the start of input files
./KOUN/swp.1030508220458.OSF_RVP7.0.0.5_PPI_v1
./KOUN/swp.1030508220515.OSF_RVP7.0.1.5_PPI_v1
./KOUN/swp.1030508220534.OSF_RVP7.0.2.5_PPI_v1
./KOUN/swp.1030508220551.OSF_RVP7.0.3.5_PPI_v1
./KOUN/swp.1030508220609.OSF_RVP7.0.4.5_PPI_v1
./KOUN/swp.1030508220645.OSF_RVP7.0.5.5_PPI_v1
./KOUN/swp.1030508220703.OSF_RVP7.0.6.5_PPI_v1
./KOUN/swp.1030508220721.OSF_RVP7.0.7.5_PPI_v1
./KOUN/swp.1030508220740.OSF_RVP7.0.8.7_PPI_v1
./KOUN/swp.1030508220757.OSF_RVP7.0.10.0_PPI_v1
./KOUN/swp.1030508220833.OSF_RVP7.0.12.0_PPI_v1
./KOUN/swp.1030508220851.OSF_RVP7.0.14.0_PPI_v1
./KOUN/swp.1030508220909.OSF_RVP7.0.16.7_PPI_v1
./KOUN/swp.1030508220927.OSF_RVP7.0.19.5_PPI_v1
}}}

= Example 2 =

This example file does a Barnes 2-pass, 2-dimensional analysis.  Sweep-file names are specified by path name.

{{{
&parameters
   nx = 70,                           ! no. of grid points in x direction
   ny = 70,                           ! no. of grid points in y direction
                                      !
   xmin = -80.0,                      ! coordinates of lower southwest corner (in km)
   ymin = -80.0,                      !     of analysis grid relative to the 
                                      !     origin given by glat, glon, galt
                                      !
   dx = 2.0,                          ! grid spacing in x direction (km)
   dy = 2.0,                          ! grid spacing in y direction (km)
                                      !
   glon = -97.461945,                 ! longitude of grid origin (deg)
   glat = 35.235832,                  ! latitude  of grid origin (deg)
   galt = 0.373,                      ! altitude of grid origin (km MSL)

   rlon = -97.461945,                 ! radar longitude (deg)
   rlat = 35.235832,                  ! radar latitude (deg)
   ralt = 0.373,                      ! radar altitude (km MSL)
                                      ! 
   day_cor = -1,                      ! offset in days to correct each ray
   sec_cor = -150,                    ! offset in seconds to correct each ray
                                      !
   output_prefix = 'KOUN_barnes',     ! prefix name for output files
                                      !
   analysis_type   = 2,               ! Type of analysis
                                      !   1 == 3D Cartesian
                                      !   2 == 2D sweep-by-sweep
   method = 2,                        ! Interpolation method:
                                      !   1 == Cressman
                                      !   2 == Barnes
   hsp0 = 1.00,                       ! either Cressman horiz. radius of influence (km) or Barnes smoothing parameter (kappa, in km**2)
   gamma = 0.3,                       ! gamma parameter for multi-pass Barnes analysis
   npass = 2,                         ! number of passes
                                      !
   minrange = 10.0,                   ! minimum-range threshold (in km, data closer to radar are discarded)
   mincount = 3,                      ! threshold for minimum number of data gates required
                                      !   to produce an objectively-analyzed observation
   minsum   = 0.1,                    ! threshold for minimum sum of weights required to produce
                                      !   an objectively-analyzed observation
                                      !
   nfld = 2,                          ! number of data fields to be gridded
                                      !
   ncgen_command = 'ncgen',           ! path/executable for local "ncgen" command
                                      !
   radar_data_format = 2,             ! radar data format: 1=dorade sweep files, 2=netcdf (FORAY)
                                      !
   nswp = -1                          ! controls file I/O:  nswp = -1 ==> read all files in directory at bottom of input file
                                      !                     nswp >  0 ==> read nswp # of filenames at bottom of input file
/
&fields
   fieldnames  = 'DZ', 'VU',          ! Names of the fields to be read from the dorade/netcdf radar-data files
   fill_flag   =    1,    0,          ! fill missing field values with a specified value? (0=no, 1=yes)
   fill_value  =  0.0,  0.0,          ! replacement value, if fill_flag==1
   error       =  5.0,  2.0,          ! Observational error standard deviation for the DART observations
/
======= DO NOT EDIT THIS LINE -> MUST START WITH 6 "=" for the oban formatted I/O to find the start of input files
'./koun_foray/ncswp_*'
}}}